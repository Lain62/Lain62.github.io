---
import { getCollection, render } from 'astro:content';
import { Image } from 'astro:assets';

// 1. Generate a new path for every collection entry

export async function getStaticPaths() {
	const posts = await getCollection("gallery");
	return posts.map(post => ({
		params: { id: post.id },
		props: { post },
    }));
}
// 2. For your template, you can get the entry directly from the prop
const { post } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>("/src/images/art/*.{jpeg,jpg,png,gif}");
const { Content } = await render(post);
const imgPath = `/src/images/art/${post.data.image}`;
console.log(images)
---
<Image class="art" src={images[imgPath]()} alt={post.data.alt} />
<p>{post.data.date}</p>
<Content />
<style>
 .art {
	 width: auto;
	 height: 100%;
     max-height:600px;
 }
</style>
